{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _excluded = [\"path\", \"locations\"];\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar SELF = Symbol('$SELF');\nfunction buildErrorTrie(errors) {\n  if (errors == null) {\n    return null;\n  }\n  if (!RelayFeatureFlags.ENABLE_FIELD_ERROR_HANDLING) {\n    return null;\n  }\n  var trie = new Map();\n  var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(errors),\n    _step;\n  try {\n    ERRORS: for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _step.value,\n        path = _step$value.path,\n        _ = _step$value.locations,\n        error = (0, _objectWithoutPropertiesLoose2[\"default\"])(_step$value, _excluded);\n      if (path == null) {\n        continue;\n      }\n      var length = path.length;\n      if (length === 0) {\n        continue;\n      }\n      var lastIndex = length - 1;\n      var currentTrie = trie;\n      for (var index = 0; index < lastIndex; index++) {\n        var key = path[index];\n        var existingValue = currentTrie.get(key);\n        if (existingValue instanceof Map) {\n          currentTrie = existingValue;\n          continue;\n        }\n        var newValue = new Map();\n        if (Array.isArray(existingValue)) {\n          newValue.set(SELF, existingValue);\n        }\n        currentTrie.set(key, newValue);\n        currentTrie = newValue;\n      }\n      var lastKey = path[lastIndex];\n      var container = currentTrie.get(lastKey);\n      if (container instanceof Map) {\n        currentTrie = container;\n        container = currentTrie.get(lastKey);\n        lastKey = SELF;\n      }\n      if (Array.isArray(container)) {\n        container.push(error);\n      } else {\n        currentTrie.set(lastKey, [error]);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return trie;\n}\nfunction getErrorsByKey(trie, key) {\n  var value = trie.get(key);\n  if (value == null) {\n    return null;\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  var errors = [];\n  recursivelyCopyErrorsIntoArray(value, errors);\n  return errors;\n}\nfunction recursivelyCopyErrorsIntoArray(trieOrSet, errors) {\n  var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(trieOrSet),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _step2$value = _step2.value,\n        childKey = _step2$value[0],\n        value = _step2$value[1];\n      var oldLength = errors.length;\n      if (Array.isArray(value)) {\n        errors.push.apply(errors, (0, _toConsumableArray2[\"default\"])(value));\n      } else {\n        recursivelyCopyErrorsIntoArray(value, errors);\n      }\n      if (childKey === SELF) {\n        continue;\n      }\n      var newLength = errors.length;\n      for (var index = oldLength; index < newLength; index++) {\n        var error = errors[index];\n        if (error.path == null) {\n          errors[index] = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, error), {}, {\n            path: [childKey]\n          });\n        } else {\n          error.path.unshift(childKey);\n        }\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\nfunction getNestedErrorTrieByKey(trie, key) {\n  var value = trie.get(key);\n  if (value instanceof Map) {\n    return value;\n  }\n  return null;\n}\nmodule.exports = {\n  SELF: SELF,\n  buildErrorTrie: buildErrorTrie,\n  getNestedErrorTrieByKey: getNestedErrorTrieByKey,\n  getErrorsByKey: getErrorsByKey\n};","map":{"version":3,"names":["_interopRequireDefault","require","_objectSpread2","_objectWithoutPropertiesLoose2","_createForOfIteratorHelper2","_toConsumableArray2","_excluded","RelayFeatureFlags","SELF","Symbol","buildErrorTrie","errors","ENABLE_FIELD_ERROR_HANDLING","trie","Map","_iterator","_step","ERRORS","s","n","done","_step$value","value","path","_","locations","error","length","lastIndex","currentTrie","index","key","existingValue","get","newValue","Array","isArray","set","lastKey","container","push","err","e","f","getErrorsByKey","recursivelyCopyErrorsIntoArray","trieOrSet","_iterator2","_step2","_step2$value","childKey","oldLength","apply","newLength","unshift","getNestedErrorTrieByKey","module","exports"],"sources":["/Users/joaoluismoraes/Desktop/woovi-challenge/web/node_modules/relay-runtime/lib/store/RelayErrorTrie.js"],"sourcesContent":["'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _excluded = [\"path\", \"locations\"];\nvar RelayFeatureFlags = require('../util/RelayFeatureFlags');\nvar SELF = Symbol('$SELF');\nfunction buildErrorTrie(errors) {\n  if (errors == null) {\n    return null;\n  }\n  if (!RelayFeatureFlags.ENABLE_FIELD_ERROR_HANDLING) {\n    return null;\n  }\n  var trie = new Map();\n  var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(errors),\n    _step;\n  try {\n    ERRORS: for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _step.value,\n        path = _step$value.path,\n        _ = _step$value.locations,\n        error = (0, _objectWithoutPropertiesLoose2[\"default\"])(_step$value, _excluded);\n      if (path == null) {\n        continue;\n      }\n      var length = path.length;\n      if (length === 0) {\n        continue;\n      }\n      var lastIndex = length - 1;\n      var currentTrie = trie;\n      for (var index = 0; index < lastIndex; index++) {\n        var key = path[index];\n        var existingValue = currentTrie.get(key);\n        if (existingValue instanceof Map) {\n          currentTrie = existingValue;\n          continue;\n        }\n        var newValue = new Map();\n        if (Array.isArray(existingValue)) {\n          newValue.set(SELF, existingValue);\n        }\n        currentTrie.set(key, newValue);\n        currentTrie = newValue;\n      }\n      var lastKey = path[lastIndex];\n      var container = currentTrie.get(lastKey);\n      if (container instanceof Map) {\n        currentTrie = container;\n        container = currentTrie.get(lastKey);\n        lastKey = SELF;\n      }\n      if (Array.isArray(container)) {\n        container.push(error);\n      } else {\n        currentTrie.set(lastKey, [error]);\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return trie;\n}\nfunction getErrorsByKey(trie, key) {\n  var value = trie.get(key);\n  if (value == null) {\n    return null;\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  var errors = [];\n  recursivelyCopyErrorsIntoArray(value, errors);\n  return errors;\n}\nfunction recursivelyCopyErrorsIntoArray(trieOrSet, errors) {\n  var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(trieOrSet),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var _step2$value = _step2.value,\n        childKey = _step2$value[0],\n        value = _step2$value[1];\n      var oldLength = errors.length;\n      if (Array.isArray(value)) {\n        errors.push.apply(errors, (0, _toConsumableArray2[\"default\"])(value));\n      } else {\n        recursivelyCopyErrorsIntoArray(value, errors);\n      }\n      if (childKey === SELF) {\n        continue;\n      }\n      var newLength = errors.length;\n      for (var index = oldLength; index < newLength; index++) {\n        var error = errors[index];\n        if (error.path == null) {\n          errors[index] = (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, error), {}, {\n            path: [childKey]\n          });\n        } else {\n          error.path.unshift(childKey);\n        }\n      }\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n}\nfunction getNestedErrorTrieByKey(trie, key) {\n  var value = trie.get(key);\n  if (value instanceof Map) {\n    return value;\n  }\n  return null;\n}\nmodule.exports = {\n  SELF: SELF,\n  buildErrorTrie: buildErrorTrie,\n  getNestedErrorTrieByKey: getNestedErrorTrieByKey,\n  getErrorsByKey: getErrorsByKey\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}