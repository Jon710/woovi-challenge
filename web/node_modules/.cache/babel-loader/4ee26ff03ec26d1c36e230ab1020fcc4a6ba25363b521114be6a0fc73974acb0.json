{"ast":null,"code":"'use strict';\n\nvar RelayDeclarativeMutationConfig = require('../mutations/RelayDeclarativeMutationConfig');\nvar _require = require('../query/GraphQLTag'),\n  getRequest = _require.getRequest;\nvar _require2 = require('../store/RelayModernOperationDescriptor'),\n  createOperationDescriptor = _require2.createOperationDescriptor;\nvar _require3 = require('../store/RelayModernSelector'),\n  createReaderSelector = _require3.createReaderSelector;\nvar warning = require(\"fbjs/lib/warning\");\nfunction requestSubscription(environment, config) {\n  var subscription = getRequest(config.subscription);\n  if (subscription.params.operationKind !== 'subscription') {\n    throw new Error('requestSubscription: Must use Subscription operation');\n  }\n  var configs = config.configs,\n    onCompleted = config.onCompleted,\n    onError = config.onError,\n    onNext = config.onNext,\n    variables = config.variables,\n    cacheConfig = config.cacheConfig;\n  var operation = createOperationDescriptor(subscription, variables, cacheConfig);\n  process.env.NODE_ENV !== \"production\" ? warning(!(config.updater && configs), 'requestSubscription: Expected only one of `updater` and `configs` to be provided') : void 0;\n  var _ref = configs ? RelayDeclarativeMutationConfig.convert(configs, subscription, null, config.updater) : config,\n    updater = _ref.updater;\n  var sub = environment.executeSubscription({\n    operation: operation,\n    updater: updater\n  }).subscribe({\n    next: function next(responses) {\n      if (onNext != null) {\n        var selector = operation.fragment;\n        var nextID;\n        if (Array.isArray(responses)) {\n          var _responses$, _responses$$extension;\n          nextID = (_responses$ = responses[0]) === null || _responses$ === void 0 ? void 0 : (_responses$$extension = _responses$.extensions) === null || _responses$$extension === void 0 ? void 0 : _responses$$extension.__relay_subscription_root_id;\n        } else {\n          var _responses$extensions;\n          nextID = (_responses$extensions = responses.extensions) === null || _responses$extensions === void 0 ? void 0 : _responses$extensions.__relay_subscription_root_id;\n        }\n        if (typeof nextID === 'string') {\n          selector = createReaderSelector(selector.node, nextID, selector.variables, selector.owner);\n        }\n        var data = environment.lookup(selector).data;\n        onNext(data);\n      }\n    },\n    error: onError,\n    complete: onCompleted\n  });\n  return {\n    dispose: sub.unsubscribe\n  };\n}\nmodule.exports = requestSubscription;","map":{"version":3,"names":["RelayDeclarativeMutationConfig","require","_require","getRequest","_require2","createOperationDescriptor","_require3","createReaderSelector","warning","requestSubscription","environment","config","subscription","params","operationKind","Error","configs","onCompleted","onError","onNext","variables","cacheConfig","operation","process","env","NODE_ENV","updater","_ref","convert","sub","executeSubscription","subscribe","next","responses","selector","fragment","nextID","Array","isArray","_responses$","_responses$$extension","extensions","__relay_subscription_root_id","_responses$extensions","node","owner","data","lookup","error","complete","dispose","unsubscribe","module","exports"],"sources":["/Users/joaoluismoraes/Desktop/woovi-challenge/web/node_modules/relay-runtime/lib/subscription/requestSubscription.js"],"sourcesContent":["'use strict';\n\nvar RelayDeclarativeMutationConfig = require('../mutations/RelayDeclarativeMutationConfig');\nvar _require = require('../query/GraphQLTag'),\n  getRequest = _require.getRequest;\nvar _require2 = require('../store/RelayModernOperationDescriptor'),\n  createOperationDescriptor = _require2.createOperationDescriptor;\nvar _require3 = require('../store/RelayModernSelector'),\n  createReaderSelector = _require3.createReaderSelector;\nvar warning = require(\"fbjs/lib/warning\");\nfunction requestSubscription(environment, config) {\n  var subscription = getRequest(config.subscription);\n  if (subscription.params.operationKind !== 'subscription') {\n    throw new Error('requestSubscription: Must use Subscription operation');\n  }\n  var configs = config.configs,\n    onCompleted = config.onCompleted,\n    onError = config.onError,\n    onNext = config.onNext,\n    variables = config.variables,\n    cacheConfig = config.cacheConfig;\n  var operation = createOperationDescriptor(subscription, variables, cacheConfig);\n  process.env.NODE_ENV !== \"production\" ? warning(!(config.updater && configs), 'requestSubscription: Expected only one of `updater` and `configs` to be provided') : void 0;\n  var _ref = configs ? RelayDeclarativeMutationConfig.convert(configs, subscription, null, config.updater) : config,\n    updater = _ref.updater;\n  var sub = environment.executeSubscription({\n    operation: operation,\n    updater: updater\n  }).subscribe({\n    next: function next(responses) {\n      if (onNext != null) {\n        var selector = operation.fragment;\n        var nextID;\n        if (Array.isArray(responses)) {\n          var _responses$, _responses$$extension;\n          nextID = (_responses$ = responses[0]) === null || _responses$ === void 0 ? void 0 : (_responses$$extension = _responses$.extensions) === null || _responses$$extension === void 0 ? void 0 : _responses$$extension.__relay_subscription_root_id;\n        } else {\n          var _responses$extensions;\n          nextID = (_responses$extensions = responses.extensions) === null || _responses$extensions === void 0 ? void 0 : _responses$extensions.__relay_subscription_root_id;\n        }\n        if (typeof nextID === 'string') {\n          selector = createReaderSelector(selector.node, nextID, selector.variables, selector.owner);\n        }\n        var data = environment.lookup(selector).data;\n        onNext(data);\n      }\n    },\n    error: onError,\n    complete: onCompleted\n  });\n  return {\n    dispose: sub.unsubscribe\n  };\n}\nmodule.exports = requestSubscription;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,8BAA8B,GAAGC,OAAO,CAAC,6CAA6C,CAAC;AAC3F,IAAIC,QAAQ,GAAGD,OAAO,CAAC,qBAAqB,CAAC;EAC3CE,UAAU,GAAGD,QAAQ,CAACC,UAAU;AAClC,IAAIC,SAAS,GAAGH,OAAO,CAAC,yCAAyC,CAAC;EAChEI,yBAAyB,GAAGD,SAAS,CAACC,yBAAyB;AACjE,IAAIC,SAAS,GAAGL,OAAO,CAAC,8BAA8B,CAAC;EACrDM,oBAAoB,GAAGD,SAAS,CAACC,oBAAoB;AACvD,IAAIC,OAAO,GAAGP,OAAO,CAAC,kBAAkB,CAAC;AACzC,SAASQ,mBAAmBA,CAACC,WAAW,EAAEC,MAAM,EAAE;EAChD,IAAIC,YAAY,GAAGT,UAAU,CAACQ,MAAM,CAACC,YAAY,CAAC;EAClD,IAAIA,YAAY,CAACC,MAAM,CAACC,aAAa,KAAK,cAAc,EAAE;IACxD,MAAM,IAAIC,KAAK,CAAC,sDAAsD,CAAC;EACzE;EACA,IAAIC,OAAO,GAAGL,MAAM,CAACK,OAAO;IAC1BC,WAAW,GAAGN,MAAM,CAACM,WAAW;IAChCC,OAAO,GAAGP,MAAM,CAACO,OAAO;IACxBC,MAAM,GAAGR,MAAM,CAACQ,MAAM;IACtBC,SAAS,GAAGT,MAAM,CAACS,SAAS;IAC5BC,WAAW,GAAGV,MAAM,CAACU,WAAW;EAClC,IAAIC,SAAS,GAAGjB,yBAAyB,CAACO,YAAY,EAAEQ,SAAS,EAAEC,WAAW,CAAC;EAC/EE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,GAAGjB,OAAO,CAAC,EAAEG,MAAM,CAACe,OAAO,IAAIV,OAAO,CAAC,EAAE,kFAAkF,CAAC,GAAG,KAAK,CAAC;EAC1K,IAAIW,IAAI,GAAGX,OAAO,GAAGhB,8BAA8B,CAAC4B,OAAO,CAACZ,OAAO,EAAEJ,YAAY,EAAE,IAAI,EAAED,MAAM,CAACe,OAAO,CAAC,GAAGf,MAAM;IAC/Ge,OAAO,GAAGC,IAAI,CAACD,OAAO;EACxB,IAAIG,GAAG,GAAGnB,WAAW,CAACoB,mBAAmB,CAAC;IACxCR,SAAS,EAAEA,SAAS;IACpBI,OAAO,EAAEA;EACX,CAAC,CAAC,CAACK,SAAS,CAAC;IACXC,IAAI,EAAE,SAASA,IAAIA,CAACC,SAAS,EAAE;MAC7B,IAAId,MAAM,IAAI,IAAI,EAAE;QAClB,IAAIe,QAAQ,GAAGZ,SAAS,CAACa,QAAQ;QACjC,IAAIC,MAAM;QACV,IAAIC,KAAK,CAACC,OAAO,CAACL,SAAS,CAAC,EAAE;UAC5B,IAAIM,WAAW,EAAEC,qBAAqB;UACtCJ,MAAM,GAAG,CAACG,WAAW,GAAGN,SAAS,CAAC,CAAC,CAAC,MAAM,IAAI,IAAIM,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAG,CAACC,qBAAqB,GAAGD,WAAW,CAACE,UAAU,MAAM,IAAI,IAAID,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACE,4BAA4B;QACjP,CAAC,MAAM;UACL,IAAIC,qBAAqB;UACzBP,MAAM,GAAG,CAACO,qBAAqB,GAAGV,SAAS,CAACQ,UAAU,MAAM,IAAI,IAAIE,qBAAqB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,qBAAqB,CAACD,4BAA4B;QACpK;QACA,IAAI,OAAON,MAAM,KAAK,QAAQ,EAAE;UAC9BF,QAAQ,GAAG3B,oBAAoB,CAAC2B,QAAQ,CAACU,IAAI,EAAER,MAAM,EAAEF,QAAQ,CAACd,SAAS,EAAEc,QAAQ,CAACW,KAAK,CAAC;QAC5F;QACA,IAAIC,IAAI,GAAGpC,WAAW,CAACqC,MAAM,CAACb,QAAQ,CAAC,CAACY,IAAI;QAC5C3B,MAAM,CAAC2B,IAAI,CAAC;MACd;IACF,CAAC;IACDE,KAAK,EAAE9B,OAAO;IACd+B,QAAQ,EAAEhC;EACZ,CAAC,CAAC;EACF,OAAO;IACLiC,OAAO,EAAErB,GAAG,CAACsB;EACf,CAAC;AACH;AACAC,MAAM,CAACC,OAAO,GAAG5C,mBAAmB"},"metadata":{},"sourceType":"script","externalDependencies":[]}