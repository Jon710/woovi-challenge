{"ast":null,"code":"'use strict';\n\nvar HooksImplementation = require('./HooksImplementation');\nvar ProfilerContext = require('./ProfilerContext');\nvar _require = require('./QueryResource'),\n  getQueryCacheIdentifier = _require.getQueryCacheIdentifier,\n  getQueryResourceForEnvironment = _require.getQueryResourceForEnvironment;\nvar useFetchTrackingRef = require('./useFetchTrackingRef');\nvar useFragmentNode = require('./useFragmentNode');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar React = require('react');\nvar useContext = React.useContext,\n  useEffect = React.useEffect,\n  useState = React.useState,\n  useRef = React.useRef;\nfunction useLazyLoadQueryNode(_ref) {\n  var query = _ref.query,\n    componentDisplayName = _ref.componentDisplayName,\n    fetchObservable = _ref.fetchObservable,\n    fetchPolicy = _ref.fetchPolicy,\n    fetchKey = _ref.fetchKey,\n    renderPolicy = _ref.renderPolicy;\n  var environment = useRelayEnvironment();\n  var profilerContext = useContext(ProfilerContext);\n  var QueryResource = getQueryResourceForEnvironment(environment);\n  var _useState = useState(0),\n    forceUpdateKey = _useState[0],\n    forceUpdate = _useState[1];\n  var _useFetchTrackingRef = useFetchTrackingRef(),\n    startFetch = _useFetchTrackingRef.startFetch,\n    completeFetch = _useFetchTrackingRef.completeFetch;\n  var cacheBreaker = \"\".concat(forceUpdateKey, \"-\").concat(fetchKey !== null && fetchKey !== void 0 ? fetchKey : '');\n  var cacheIdentifier = getQueryCacheIdentifier(environment, query, fetchPolicy, renderPolicy, cacheBreaker);\n  var preparedQueryResult = profilerContext.wrapPrepareQueryResource(function () {\n    return QueryResource.prepareWithIdentifier(cacheIdentifier, query, fetchObservable, fetchPolicy, renderPolicy, {\n      start: startFetch,\n      complete: completeFetch,\n      error: completeFetch\n    }, profilerContext);\n  });\n  var maybeHiddenOrFastRefresh = useRef(false);\n  useEffect(function () {\n    return function () {\n      maybeHiddenOrFastRefresh.current = true;\n    };\n  }, []);\n  useEffect(function () {\n    if (maybeHiddenOrFastRefresh.current === true) {\n      maybeHiddenOrFastRefresh.current = false;\n      forceUpdate(function (n) {\n        return n + 1;\n      });\n      return;\n    }\n    var disposable = QueryResource.retain(preparedQueryResult, profilerContext);\n    return function () {\n      disposable.dispose();\n    };\n  }, [environment, cacheIdentifier]);\n  useEffect(function () {\n    QueryResource.releaseTemporaryRetain(preparedQueryResult);\n  });\n  var fragmentNode = preparedQueryResult.fragmentNode,\n    fragmentRef = preparedQueryResult.fragmentRef;\n  var data = useFragmentNodeImpl(fragmentNode, fragmentRef, componentDisplayName);\n  return data;\n}\nfunction useFragmentNodeImpl(fragment, key, componentDisplayName) {\n  var impl = HooksImplementation.get();\n  if (impl && impl.useFragment__internal) {\n    return impl.useFragment__internal(fragment, key, componentDisplayName);\n  } else {\n    var _useFragmentNode = useFragmentNode(fragment, key, componentDisplayName),\n      data = _useFragmentNode.data;\n    return data;\n  }\n}\nmodule.exports = useLazyLoadQueryNode;","map":{"version":3,"names":["HooksImplementation","require","ProfilerContext","_require","getQueryCacheIdentifier","getQueryResourceForEnvironment","useFetchTrackingRef","useFragmentNode","useRelayEnvironment","React","useContext","useEffect","useState","useRef","useLazyLoadQueryNode","_ref","query","componentDisplayName","fetchObservable","fetchPolicy","fetchKey","renderPolicy","environment","profilerContext","QueryResource","_useState","forceUpdateKey","forceUpdate","_useFetchTrackingRef","startFetch","completeFetch","cacheBreaker","concat","cacheIdentifier","preparedQueryResult","wrapPrepareQueryResource","prepareWithIdentifier","start","complete","error","maybeHiddenOrFastRefresh","current","n","disposable","retain","dispose","releaseTemporaryRetain","fragmentNode","fragmentRef","data","useFragmentNodeImpl","fragment","key","impl","get","useFragment__internal","_useFragmentNode","module","exports"],"sources":["/Users/joaoluismoraes/Desktop/woovi-challenge/web/node_modules/react-relay/lib/relay-hooks/useLazyLoadQueryNode.js"],"sourcesContent":["'use strict';\n\nvar HooksImplementation = require('./HooksImplementation');\nvar ProfilerContext = require('./ProfilerContext');\nvar _require = require('./QueryResource'),\n  getQueryCacheIdentifier = _require.getQueryCacheIdentifier,\n  getQueryResourceForEnvironment = _require.getQueryResourceForEnvironment;\nvar useFetchTrackingRef = require('./useFetchTrackingRef');\nvar useFragmentNode = require('./useFragmentNode');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar React = require('react');\nvar useContext = React.useContext,\n  useEffect = React.useEffect,\n  useState = React.useState,\n  useRef = React.useRef;\nfunction useLazyLoadQueryNode(_ref) {\n  var query = _ref.query,\n    componentDisplayName = _ref.componentDisplayName,\n    fetchObservable = _ref.fetchObservable,\n    fetchPolicy = _ref.fetchPolicy,\n    fetchKey = _ref.fetchKey,\n    renderPolicy = _ref.renderPolicy;\n  var environment = useRelayEnvironment();\n  var profilerContext = useContext(ProfilerContext);\n  var QueryResource = getQueryResourceForEnvironment(environment);\n  var _useState = useState(0),\n    forceUpdateKey = _useState[0],\n    forceUpdate = _useState[1];\n  var _useFetchTrackingRef = useFetchTrackingRef(),\n    startFetch = _useFetchTrackingRef.startFetch,\n    completeFetch = _useFetchTrackingRef.completeFetch;\n  var cacheBreaker = \"\".concat(forceUpdateKey, \"-\").concat(fetchKey !== null && fetchKey !== void 0 ? fetchKey : '');\n  var cacheIdentifier = getQueryCacheIdentifier(environment, query, fetchPolicy, renderPolicy, cacheBreaker);\n  var preparedQueryResult = profilerContext.wrapPrepareQueryResource(function () {\n    return QueryResource.prepareWithIdentifier(cacheIdentifier, query, fetchObservable, fetchPolicy, renderPolicy, {\n      start: startFetch,\n      complete: completeFetch,\n      error: completeFetch\n    }, profilerContext);\n  });\n  var maybeHiddenOrFastRefresh = useRef(false);\n  useEffect(function () {\n    return function () {\n      maybeHiddenOrFastRefresh.current = true;\n    };\n  }, []);\n  useEffect(function () {\n    if (maybeHiddenOrFastRefresh.current === true) {\n      maybeHiddenOrFastRefresh.current = false;\n      forceUpdate(function (n) {\n        return n + 1;\n      });\n      return;\n    }\n    var disposable = QueryResource.retain(preparedQueryResult, profilerContext);\n    return function () {\n      disposable.dispose();\n    };\n  }, [environment, cacheIdentifier]);\n  useEffect(function () {\n    QueryResource.releaseTemporaryRetain(preparedQueryResult);\n  });\n  var fragmentNode = preparedQueryResult.fragmentNode,\n    fragmentRef = preparedQueryResult.fragmentRef;\n  var data = useFragmentNodeImpl(fragmentNode, fragmentRef, componentDisplayName);\n  return data;\n}\nfunction useFragmentNodeImpl(fragment, key, componentDisplayName) {\n  var impl = HooksImplementation.get();\n  if (impl && impl.useFragment__internal) {\n    return impl.useFragment__internal(fragment, key, componentDisplayName);\n  } else {\n    var _useFragmentNode = useFragmentNode(fragment, key, componentDisplayName),\n      data = _useFragmentNode.data;\n    return data;\n  }\n}\nmodule.exports = useLazyLoadQueryNode;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}