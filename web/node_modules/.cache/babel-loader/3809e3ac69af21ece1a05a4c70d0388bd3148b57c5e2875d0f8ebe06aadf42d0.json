{"ast":null,"code":"'use strict';\n\nvar ReactRelayContext = require('./ReactRelayContext');\nvar ReactRelayQueryRendererContext = require('./ReactRelayQueryRendererContext');\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  createOperationDescriptor = _require.createOperationDescriptor,\n  deepFreeze = _require.deepFreeze,\n  getRequest = _require.getRequest;\nvar useLayoutEffect = React.useLayoutEffect,\n  useState = React.useState,\n  useRef = React.useRef,\n  useMemo = React.useMemo;\nvar queryRendererContext = {\n  rootIsQueryRenderer: true\n};\nfunction useDeepCompare(value) {\n  var latestValue = React.useRef(value);\n  if (!areEqual(latestValue.current, value)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(value);\n    }\n    latestValue.current = value;\n  }\n  return latestValue.current;\n}\nfunction ReactRelayLocalQueryRenderer(props) {\n  var environment = props.environment,\n    query = props.query,\n    variables = props.variables,\n    render = props.render;\n  var latestVariables = useDeepCompare(variables);\n  var operation = useMemo(function () {\n    var request = getRequest(query);\n    return createOperationDescriptor(request, latestVariables);\n  }, [query, latestVariables]);\n  var relayContext = useMemo(function () {\n    return {\n      environment: environment\n    };\n  }, [environment]);\n  var dataRef = useRef(null);\n  var _useState = useState(null),\n    forceUpdate = _useState[1];\n  var cleanupFnRef = useRef(null);\n  var snapshot = useMemo(function () {\n    environment.check(operation);\n    var res = environment.lookup(operation.fragment);\n    dataRef.current = res.data;\n    var retainDisposable = environment.retain(operation);\n    var subscribeDisposable = environment.subscribe(res, function (newSnapshot) {\n      dataRef.current = newSnapshot.data;\n      forceUpdate(dataRef.current);\n    });\n    var disposed = false;\n    function nextCleanupFn() {\n      if (!disposed) {\n        disposed = true;\n        cleanupFnRef.current = null;\n        retainDisposable.dispose();\n        subscribeDisposable.dispose();\n      }\n    }\n    if (cleanupFnRef.current) {\n      cleanupFnRef.current();\n    }\n    cleanupFnRef.current = nextCleanupFn;\n    return res;\n  }, [environment, operation]);\n  useLayoutEffect(function () {\n    var cleanupFn = cleanupFnRef.current;\n    return function () {\n      cleanupFn && cleanupFn();\n    };\n  }, [snapshot]);\n  return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n    value: relayContext\n  }, /*#__PURE__*/React.createElement(ReactRelayQueryRendererContext.Provider, {\n    value: queryRendererContext\n  }, render({\n    props: dataRef.current\n  })));\n}\nmodule.exports = ReactRelayLocalQueryRenderer;","map":{"version":3,"names":["ReactRelayContext","require","ReactRelayQueryRendererContext","areEqual","React","_require","createOperationDescriptor","deepFreeze","getRequest","useLayoutEffect","useState","useRef","useMemo","queryRendererContext","rootIsQueryRenderer","useDeepCompare","value","latestValue","current","process","env","NODE_ENV","ReactRelayLocalQueryRenderer","props","environment","query","variables","render","latestVariables","operation","request","relayContext","dataRef","_useState","forceUpdate","cleanupFnRef","snapshot","check","res","lookup","fragment","data","retainDisposable","retain","subscribeDisposable","subscribe","newSnapshot","disposed","nextCleanupFn","dispose","cleanupFn","createElement","Provider","module","exports"],"sources":["/Users/joaoluismoraes/Desktop/woovi-challenge/web/node_modules/react-relay/lib/ReactRelayLocalQueryRenderer.js"],"sourcesContent":["'use strict';\n\nvar ReactRelayContext = require('./ReactRelayContext');\nvar ReactRelayQueryRendererContext = require('./ReactRelayQueryRendererContext');\nvar areEqual = require(\"fbjs/lib/areEqual\");\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  createOperationDescriptor = _require.createOperationDescriptor,\n  deepFreeze = _require.deepFreeze,\n  getRequest = _require.getRequest;\nvar useLayoutEffect = React.useLayoutEffect,\n  useState = React.useState,\n  useRef = React.useRef,\n  useMemo = React.useMemo;\nvar queryRendererContext = {\n  rootIsQueryRenderer: true\n};\nfunction useDeepCompare(value) {\n  var latestValue = React.useRef(value);\n  if (!areEqual(latestValue.current, value)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      deepFreeze(value);\n    }\n    latestValue.current = value;\n  }\n  return latestValue.current;\n}\nfunction ReactRelayLocalQueryRenderer(props) {\n  var environment = props.environment,\n    query = props.query,\n    variables = props.variables,\n    render = props.render;\n  var latestVariables = useDeepCompare(variables);\n  var operation = useMemo(function () {\n    var request = getRequest(query);\n    return createOperationDescriptor(request, latestVariables);\n  }, [query, latestVariables]);\n  var relayContext = useMemo(function () {\n    return {\n      environment: environment\n    };\n  }, [environment]);\n  var dataRef = useRef(null);\n  var _useState = useState(null),\n    forceUpdate = _useState[1];\n  var cleanupFnRef = useRef(null);\n  var snapshot = useMemo(function () {\n    environment.check(operation);\n    var res = environment.lookup(operation.fragment);\n    dataRef.current = res.data;\n    var retainDisposable = environment.retain(operation);\n    var subscribeDisposable = environment.subscribe(res, function (newSnapshot) {\n      dataRef.current = newSnapshot.data;\n      forceUpdate(dataRef.current);\n    });\n    var disposed = false;\n    function nextCleanupFn() {\n      if (!disposed) {\n        disposed = true;\n        cleanupFnRef.current = null;\n        retainDisposable.dispose();\n        subscribeDisposable.dispose();\n      }\n    }\n    if (cleanupFnRef.current) {\n      cleanupFnRef.current();\n    }\n    cleanupFnRef.current = nextCleanupFn;\n    return res;\n  }, [environment, operation]);\n  useLayoutEffect(function () {\n    var cleanupFn = cleanupFnRef.current;\n    return function () {\n      cleanupFn && cleanupFn();\n    };\n  }, [snapshot]);\n  return /*#__PURE__*/React.createElement(ReactRelayContext.Provider, {\n    value: relayContext\n  }, /*#__PURE__*/React.createElement(ReactRelayQueryRendererContext.Provider, {\n    value: queryRendererContext\n  }, render({\n    props: dataRef.current\n  })));\n}\nmodule.exports = ReactRelayLocalQueryRenderer;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}