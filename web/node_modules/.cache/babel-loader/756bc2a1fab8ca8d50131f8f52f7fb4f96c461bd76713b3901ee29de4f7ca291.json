{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar useIsMountedRef = require('./useIsMountedRef');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  defaultCommitMutation = _require.commitMutation;\nvar useState = React.useState,\n  useEffect = React.useEffect,\n  useRef = React.useRef,\n  useCallback = React.useCallback;\nfunction useMutation(mutation) {\n  var commitMutationFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultCommitMutation;\n  var environment = useRelayEnvironment();\n  var isMountedRef = useIsMountedRef();\n  var environmentRef = useRef(environment);\n  var mutationRef = useRef(mutation);\n  var inFlightMutationsRef = useRef(new Set());\n  var _useState = useState(false),\n    isMutationInFlight = _useState[0],\n    setMutationInFlight = _useState[1];\n  var cleanup = useCallback(function (disposable) {\n    if (environmentRef.current === environment && mutationRef.current === mutation) {\n      inFlightMutationsRef.current[\"delete\"](disposable);\n      if (isMountedRef.current) {\n        setMutationInFlight(inFlightMutationsRef.current.size > 0);\n      }\n    }\n  }, [environment, isMountedRef, mutation]);\n  useEffect(function () {\n    if (environmentRef.current !== environment || mutationRef.current !== mutation) {\n      inFlightMutationsRef.current = new Set();\n      if (isMountedRef.current) {\n        setMutationInFlight(false);\n      }\n      environmentRef.current = environment;\n      mutationRef.current = mutation;\n    }\n  }, [environment, isMountedRef, mutation]);\n  var commit = useCallback(function (config) {\n    if (isMountedRef.current) {\n      setMutationInFlight(true);\n    }\n    var disposable = commitMutationFn(environment, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, config), {}, {\n      mutation: mutation,\n      onCompleted: function onCompleted(response, errors) {\n        var _config$onCompleted;\n        cleanup(disposable);\n        (_config$onCompleted = config.onCompleted) === null || _config$onCompleted === void 0 ? void 0 : _config$onCompleted.call(config, response, errors);\n      },\n      onError: function onError(error) {\n        var _config$onError;\n        cleanup(disposable);\n        (_config$onError = config.onError) === null || _config$onError === void 0 ? void 0 : _config$onError.call(config, error);\n      },\n      onUnsubscribe: function onUnsubscribe() {\n        var _config$onUnsubscribe;\n        cleanup(disposable);\n        (_config$onUnsubscribe = config.onUnsubscribe) === null || _config$onUnsubscribe === void 0 ? void 0 : _config$onUnsubscribe.call(config);\n      },\n      onNext: function onNext() {\n        var _config$onNext;\n        (_config$onNext = config.onNext) === null || _config$onNext === void 0 ? void 0 : _config$onNext.call(config);\n      }\n    }));\n    inFlightMutationsRef.current.add(disposable);\n    return disposable;\n  }, [cleanup, commitMutationFn, environment, isMountedRef, mutation]);\n  return [commit, isMutationInFlight];\n}\nmodule.exports = useMutation;","map":{"version":3,"names":["_interopRequireDefault","require","_objectSpread2","useIsMountedRef","useRelayEnvironment","React","_require","defaultCommitMutation","commitMutation","useState","useEffect","useRef","useCallback","useMutation","mutation","commitMutationFn","arguments","length","undefined","environment","isMountedRef","environmentRef","mutationRef","inFlightMutationsRef","Set","_useState","isMutationInFlight","setMutationInFlight","cleanup","disposable","current","size","commit","config","onCompleted","response","errors","_config$onCompleted","call","onError","error","_config$onError","onUnsubscribe","_config$onUnsubscribe","onNext","_config$onNext","add","module","exports"],"sources":["/Users/joaoluismoraes/Desktop/woovi-challenge/web/node_modules/react-relay/lib/relay-hooks/useMutation.js"],"sourcesContent":["'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar useIsMountedRef = require('./useIsMountedRef');\nvar useRelayEnvironment = require('./useRelayEnvironment');\nvar React = require('react');\nvar _require = require('relay-runtime'),\n  defaultCommitMutation = _require.commitMutation;\nvar useState = React.useState,\n  useEffect = React.useEffect,\n  useRef = React.useRef,\n  useCallback = React.useCallback;\nfunction useMutation(mutation) {\n  var commitMutationFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultCommitMutation;\n  var environment = useRelayEnvironment();\n  var isMountedRef = useIsMountedRef();\n  var environmentRef = useRef(environment);\n  var mutationRef = useRef(mutation);\n  var inFlightMutationsRef = useRef(new Set());\n  var _useState = useState(false),\n    isMutationInFlight = _useState[0],\n    setMutationInFlight = _useState[1];\n  var cleanup = useCallback(function (disposable) {\n    if (environmentRef.current === environment && mutationRef.current === mutation) {\n      inFlightMutationsRef.current[\"delete\"](disposable);\n      if (isMountedRef.current) {\n        setMutationInFlight(inFlightMutationsRef.current.size > 0);\n      }\n    }\n  }, [environment, isMountedRef, mutation]);\n  useEffect(function () {\n    if (environmentRef.current !== environment || mutationRef.current !== mutation) {\n      inFlightMutationsRef.current = new Set();\n      if (isMountedRef.current) {\n        setMutationInFlight(false);\n      }\n      environmentRef.current = environment;\n      mutationRef.current = mutation;\n    }\n  }, [environment, isMountedRef, mutation]);\n  var commit = useCallback(function (config) {\n    if (isMountedRef.current) {\n      setMutationInFlight(true);\n    }\n    var disposable = commitMutationFn(environment, (0, _objectSpread2[\"default\"])((0, _objectSpread2[\"default\"])({}, config), {}, {\n      mutation: mutation,\n      onCompleted: function onCompleted(response, errors) {\n        var _config$onCompleted;\n        cleanup(disposable);\n        (_config$onCompleted = config.onCompleted) === null || _config$onCompleted === void 0 ? void 0 : _config$onCompleted.call(config, response, errors);\n      },\n      onError: function onError(error) {\n        var _config$onError;\n        cleanup(disposable);\n        (_config$onError = config.onError) === null || _config$onError === void 0 ? void 0 : _config$onError.call(config, error);\n      },\n      onUnsubscribe: function onUnsubscribe() {\n        var _config$onUnsubscribe;\n        cleanup(disposable);\n        (_config$onUnsubscribe = config.onUnsubscribe) === null || _config$onUnsubscribe === void 0 ? void 0 : _config$onUnsubscribe.call(config);\n      },\n      onNext: function onNext() {\n        var _config$onNext;\n        (_config$onNext = config.onNext) === null || _config$onNext === void 0 ? void 0 : _config$onNext.call(config);\n      }\n    }));\n    inFlightMutationsRef.current.add(disposable);\n    return disposable;\n  }, [cleanup, commitMutationFn, environment, isMountedRef, mutation]);\n  return [commit, isMutationInFlight];\n}\nmodule.exports = useMutation;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}