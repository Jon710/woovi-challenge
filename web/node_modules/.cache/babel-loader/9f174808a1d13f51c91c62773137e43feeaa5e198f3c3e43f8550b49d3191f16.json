{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar RelayModernRecord = require('./RelayModernRecord');\nvar RelayRecordSource = require('./RelayRecordSource');\nvar invariant = require('invariant');\nvar UNPUBLISH_RECORD_SENTINEL = RelayModernRecord.fromObject(Object.freeze({\n  __UNPUBLISH_RECORD_SENTINEL: true\n}));\nvar RelayOptimisticRecordSource = /*#__PURE__*/function () {\n  function RelayOptimisticRecordSource(base) {\n    this._base = base;\n    this._sink = RelayRecordSource.create();\n  }\n  var _proto = RelayOptimisticRecordSource.prototype;\n  _proto.has = function has(dataID) {\n    if (this._sink.has(dataID)) {\n      var sinkRecord = this._sink.get(dataID);\n      return sinkRecord !== UNPUBLISH_RECORD_SENTINEL;\n    } else {\n      return this._base.has(dataID);\n    }\n  };\n  _proto.get = function get(dataID) {\n    if (this._sink.has(dataID)) {\n      var sinkRecord = this._sink.get(dataID);\n      if (sinkRecord === UNPUBLISH_RECORD_SENTINEL) {\n        return undefined;\n      } else {\n        return sinkRecord;\n      }\n    } else {\n      return this._base.get(dataID);\n    }\n  };\n  _proto.getStatus = function getStatus(dataID) {\n    var record = this.get(dataID);\n    if (record === undefined) {\n      return 'UNKNOWN';\n    } else if (record === null) {\n      return 'NONEXISTENT';\n    } else {\n      return 'EXISTENT';\n    }\n  };\n  _proto.clear = function clear() {\n    this._base = RelayRecordSource.create();\n    this._sink.clear();\n  };\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._sink[\"delete\"](dataID);\n  };\n  _proto.remove = function remove(dataID) {\n    this._sink.set(dataID, UNPUBLISH_RECORD_SENTINEL);\n  };\n  _proto.set = function set(dataID, record) {\n    this._sink.set(dataID, record);\n  };\n  _proto.getRecordIDs = function getRecordIDs() {\n    return Object.keys(this.toJSON());\n  };\n  _proto.size = function size() {\n    return Object.keys(this.toJSON()).length;\n  };\n  _proto.toJSON = function toJSON() {\n    var _this = this;\n    var merged = (0, _objectSpread2[\"default\"])({}, this._base.toJSON());\n    this._sink.getRecordIDs().forEach(function (dataID) {\n      var record = _this.get(dataID);\n      if (record === undefined) {\n        delete merged[dataID];\n      } else {\n        merged[dataID] = RelayModernRecord.toJSON(record);\n      }\n    });\n    return merged;\n  };\n  _proto.getOptimisticRecordIDs = function getOptimisticRecordIDs() {\n    return new Set(this._sink.getRecordIDs());\n  };\n  return RelayOptimisticRecordSource;\n}();\nfunction create(base) {\n  return new RelayOptimisticRecordSource(base);\n}\nfunction getOptimisticRecordIDs(source) {\n  !(source instanceof RelayOptimisticRecordSource) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getOptimisticRecordIDs: Instance of RelayOptimisticRecordSource is expected') : invariant(false) : void 0;\n  return source.getOptimisticRecordIDs();\n}\nmodule.exports = {\n  create: create,\n  getOptimisticRecordIDs: getOptimisticRecordIDs\n};","map":{"version":3,"names":["_interopRequireDefault","require","_objectSpread2","RelayModernRecord","RelayRecordSource","invariant","UNPUBLISH_RECORD_SENTINEL","fromObject","Object","freeze","__UNPUBLISH_RECORD_SENTINEL","RelayOptimisticRecordSource","base","_base","_sink","create","_proto","prototype","has","dataID","sinkRecord","get","undefined","getStatus","record","clear","_delete","remove","set","getRecordIDs","keys","toJSON","size","length","_this","merged","forEach","getOptimisticRecordIDs","Set","source","process","env","NODE_ENV","module","exports"],"sources":["/Users/joaoluismoraes/Desktop/woovi-challenge/web/node_modules/relay-runtime/lib/store/RelayOptimisticRecordSource.js"],"sourcesContent":["'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\nvar RelayModernRecord = require('./RelayModernRecord');\nvar RelayRecordSource = require('./RelayRecordSource');\nvar invariant = require('invariant');\nvar UNPUBLISH_RECORD_SENTINEL = RelayModernRecord.fromObject(Object.freeze({\n  __UNPUBLISH_RECORD_SENTINEL: true\n}));\nvar RelayOptimisticRecordSource = /*#__PURE__*/function () {\n  function RelayOptimisticRecordSource(base) {\n    this._base = base;\n    this._sink = RelayRecordSource.create();\n  }\n  var _proto = RelayOptimisticRecordSource.prototype;\n  _proto.has = function has(dataID) {\n    if (this._sink.has(dataID)) {\n      var sinkRecord = this._sink.get(dataID);\n      return sinkRecord !== UNPUBLISH_RECORD_SENTINEL;\n    } else {\n      return this._base.has(dataID);\n    }\n  };\n  _proto.get = function get(dataID) {\n    if (this._sink.has(dataID)) {\n      var sinkRecord = this._sink.get(dataID);\n      if (sinkRecord === UNPUBLISH_RECORD_SENTINEL) {\n        return undefined;\n      } else {\n        return sinkRecord;\n      }\n    } else {\n      return this._base.get(dataID);\n    }\n  };\n  _proto.getStatus = function getStatus(dataID) {\n    var record = this.get(dataID);\n    if (record === undefined) {\n      return 'UNKNOWN';\n    } else if (record === null) {\n      return 'NONEXISTENT';\n    } else {\n      return 'EXISTENT';\n    }\n  };\n  _proto.clear = function clear() {\n    this._base = RelayRecordSource.create();\n    this._sink.clear();\n  };\n  _proto[\"delete\"] = function _delete(dataID) {\n    this._sink[\"delete\"](dataID);\n  };\n  _proto.remove = function remove(dataID) {\n    this._sink.set(dataID, UNPUBLISH_RECORD_SENTINEL);\n  };\n  _proto.set = function set(dataID, record) {\n    this._sink.set(dataID, record);\n  };\n  _proto.getRecordIDs = function getRecordIDs() {\n    return Object.keys(this.toJSON());\n  };\n  _proto.size = function size() {\n    return Object.keys(this.toJSON()).length;\n  };\n  _proto.toJSON = function toJSON() {\n    var _this = this;\n    var merged = (0, _objectSpread2[\"default\"])({}, this._base.toJSON());\n    this._sink.getRecordIDs().forEach(function (dataID) {\n      var record = _this.get(dataID);\n      if (record === undefined) {\n        delete merged[dataID];\n      } else {\n        merged[dataID] = RelayModernRecord.toJSON(record);\n      }\n    });\n    return merged;\n  };\n  _proto.getOptimisticRecordIDs = function getOptimisticRecordIDs() {\n    return new Set(this._sink.getRecordIDs());\n  };\n  return RelayOptimisticRecordSource;\n}();\nfunction create(base) {\n  return new RelayOptimisticRecordSource(base);\n}\nfunction getOptimisticRecordIDs(source) {\n  !(source instanceof RelayOptimisticRecordSource) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'getOptimisticRecordIDs: Instance of RelayOptimisticRecordSource is expected') : invariant(false) : void 0;\n  return source.getOptimisticRecordIDs();\n}\nmodule.exports = {\n  create: create,\n  getOptimisticRecordIDs: getOptimisticRecordIDs\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}