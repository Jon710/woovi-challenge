{"ast":null,"code":"'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar loadEntryPoint = require('./loadEntryPoint');\nvar _require = require('./loadQuery'),\n  useTrackLoadQueryInRender = _require.useTrackLoadQueryInRender;\nvar useIsMountedRef = require('./useIsMountedRef');\nvar _require2 = require('react'),\n  useCallback = _require2.useCallback,\n  useEffect = _require2.useEffect,\n  useRef = _require2.useRef,\n  useState = _require2.useState;\nvar initialNullEntryPointReferenceState = {\n  kind: 'NullEntryPointReference'\n};\nfunction useLoadEntryPoint(environmentProvider, entryPoint, options) {\n  var _options$TEST_ONLY__i, _options$TEST_ONLY__i2, _options$TEST_ONLY__i3, _options$TEST_ONLY__i4;\n  useTrackLoadQueryInRender();\n  var initialEntryPointReferenceInternal = (_options$TEST_ONLY__i = options === null || options === void 0 ? void 0 : (_options$TEST_ONLY__i2 = options.TEST_ONLY__initialEntryPointData) === null || _options$TEST_ONLY__i2 === void 0 ? void 0 : _options$TEST_ONLY__i2.entryPointReference) !== null && _options$TEST_ONLY__i !== void 0 ? _options$TEST_ONLY__i : initialNullEntryPointReferenceState;\n  var initialEntryPointParamsInternal = (_options$TEST_ONLY__i3 = options === null || options === void 0 ? void 0 : (_options$TEST_ONLY__i4 = options.TEST_ONLY__initialEntryPointData) === null || _options$TEST_ONLY__i4 === void 0 ? void 0 : _options$TEST_ONLY__i4.entryPointParams) !== null && _options$TEST_ONLY__i3 !== void 0 ? _options$TEST_ONLY__i3 : null;\n  var isMountedRef = useIsMountedRef();\n  var undisposedEntryPointReferencesRef = useRef(new Set([initialEntryPointReferenceInternal]));\n  var _useState = useState(initialEntryPointReferenceInternal),\n    entryPointReference = _useState[0],\n    setEntryPointReference = _useState[1];\n  var _useState2 = useState(initialEntryPointParamsInternal),\n    entryPointParams = _useState2[0],\n    setEntryPointParams = _useState2[1];\n  var disposeEntryPoint = useCallback(function () {\n    if (isMountedRef.current) {\n      var nullEntryPointReference = {\n        kind: 'NullEntryPointReference'\n      };\n      undisposedEntryPointReferencesRef.current.add(nullEntryPointReference);\n      setEntryPointReference(nullEntryPointReference);\n    }\n  }, [setEntryPointReference, isMountedRef]);\n  var entryPointLoaderCallback = useCallback(function (params) {\n    if (isMountedRef.current) {\n      var updatedEntryPointReference = loadEntryPoint(environmentProvider, entryPoint, params);\n      undisposedEntryPointReferencesRef.current.add(updatedEntryPointReference);\n      setEntryPointReference(updatedEntryPointReference);\n      setEntryPointParams(params);\n    }\n  }, [environmentProvider, entryPoint, setEntryPointReference, isMountedRef]);\n  var maybeHiddenOrFastRefresh = useRef(false);\n  useEffect(function () {\n    return function () {\n      maybeHiddenOrFastRefresh.current = true;\n    };\n  }, []);\n  useEffect(function () {\n    if (maybeHiddenOrFastRefresh.current === true) {\n      maybeHiddenOrFastRefresh.current = false;\n      if (entryPointReference.kind !== 'NullEntryPointReference' && entryPointParams != null) {\n        entryPointLoaderCallback(entryPointParams);\n      }\n      return;\n    }\n    var undisposedEntryPointReferences = undisposedEntryPointReferencesRef.current;\n    if (isMountedRef.current) {\n      var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(undisposedEntryPointReferences),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var undisposedEntryPointReference = _step.value;\n          if (undisposedEntryPointReference === entryPointReference) {\n            break;\n          }\n          undisposedEntryPointReferences[\"delete\"](undisposedEntryPointReference);\n          if (undisposedEntryPointReference.kind !== 'NullEntryPointReference') {\n            undisposedEntryPointReference.dispose();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, [entryPointReference, entryPointParams, entryPointLoaderCallback, isMountedRef]);\n  useEffect(function () {\n    return function disposeAllRemainingEntryPointReferences() {\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(undisposedEntryPointReferencesRef.current),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var unhandledStateChange = _step2.value;\n          if (unhandledStateChange.kind !== 'NullEntryPointReference') {\n            unhandledStateChange.dispose();\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    };\n  }, []);\n  return [entryPointReference.kind === 'NullEntryPointReference' ? null : entryPointReference, entryPointLoaderCallback, disposeEntryPoint];\n}\nmodule.exports = useLoadEntryPoint;","map":{"version":3,"names":["_interopRequireDefault","require","_createForOfIteratorHelper2","loadEntryPoint","_require","useTrackLoadQueryInRender","useIsMountedRef","_require2","useCallback","useEffect","useRef","useState","initialNullEntryPointReferenceState","kind","useLoadEntryPoint","environmentProvider","entryPoint","options","_options$TEST_ONLY__i","_options$TEST_ONLY__i2","_options$TEST_ONLY__i3","_options$TEST_ONLY__i4","initialEntryPointReferenceInternal","TEST_ONLY__initialEntryPointData","entryPointReference","initialEntryPointParamsInternal","entryPointParams","isMountedRef","undisposedEntryPointReferencesRef","Set","_useState","setEntryPointReference","_useState2","setEntryPointParams","disposeEntryPoint","current","nullEntryPointReference","add","entryPointLoaderCallback","params","updatedEntryPointReference","maybeHiddenOrFastRefresh","undisposedEntryPointReferences","_iterator","_step","s","n","done","undisposedEntryPointReference","value","dispose","err","e","f","disposeAllRemainingEntryPointReferences","_iterator2","_step2","unhandledStateChange","module","exports"],"sources":["/Users/joaoluismoraes/Desktop/woovi-challenge/web/node_modules/react-relay/lib/relay-hooks/useEntryPointLoader.js"],"sourcesContent":["'use strict';\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\nvar _createForOfIteratorHelper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createForOfIteratorHelper\"));\nvar loadEntryPoint = require('./loadEntryPoint');\nvar _require = require('./loadQuery'),\n  useTrackLoadQueryInRender = _require.useTrackLoadQueryInRender;\nvar useIsMountedRef = require('./useIsMountedRef');\nvar _require2 = require('react'),\n  useCallback = _require2.useCallback,\n  useEffect = _require2.useEffect,\n  useRef = _require2.useRef,\n  useState = _require2.useState;\nvar initialNullEntryPointReferenceState = {\n  kind: 'NullEntryPointReference'\n};\nfunction useLoadEntryPoint(environmentProvider, entryPoint, options) {\n  var _options$TEST_ONLY__i, _options$TEST_ONLY__i2, _options$TEST_ONLY__i3, _options$TEST_ONLY__i4;\n  useTrackLoadQueryInRender();\n  var initialEntryPointReferenceInternal = (_options$TEST_ONLY__i = options === null || options === void 0 ? void 0 : (_options$TEST_ONLY__i2 = options.TEST_ONLY__initialEntryPointData) === null || _options$TEST_ONLY__i2 === void 0 ? void 0 : _options$TEST_ONLY__i2.entryPointReference) !== null && _options$TEST_ONLY__i !== void 0 ? _options$TEST_ONLY__i : initialNullEntryPointReferenceState;\n  var initialEntryPointParamsInternal = (_options$TEST_ONLY__i3 = options === null || options === void 0 ? void 0 : (_options$TEST_ONLY__i4 = options.TEST_ONLY__initialEntryPointData) === null || _options$TEST_ONLY__i4 === void 0 ? void 0 : _options$TEST_ONLY__i4.entryPointParams) !== null && _options$TEST_ONLY__i3 !== void 0 ? _options$TEST_ONLY__i3 : null;\n  var isMountedRef = useIsMountedRef();\n  var undisposedEntryPointReferencesRef = useRef(new Set([initialEntryPointReferenceInternal]));\n  var _useState = useState(initialEntryPointReferenceInternal),\n    entryPointReference = _useState[0],\n    setEntryPointReference = _useState[1];\n  var _useState2 = useState(initialEntryPointParamsInternal),\n    entryPointParams = _useState2[0],\n    setEntryPointParams = _useState2[1];\n  var disposeEntryPoint = useCallback(function () {\n    if (isMountedRef.current) {\n      var nullEntryPointReference = {\n        kind: 'NullEntryPointReference'\n      };\n      undisposedEntryPointReferencesRef.current.add(nullEntryPointReference);\n      setEntryPointReference(nullEntryPointReference);\n    }\n  }, [setEntryPointReference, isMountedRef]);\n  var entryPointLoaderCallback = useCallback(function (params) {\n    if (isMountedRef.current) {\n      var updatedEntryPointReference = loadEntryPoint(environmentProvider, entryPoint, params);\n      undisposedEntryPointReferencesRef.current.add(updatedEntryPointReference);\n      setEntryPointReference(updatedEntryPointReference);\n      setEntryPointParams(params);\n    }\n  }, [environmentProvider, entryPoint, setEntryPointReference, isMountedRef]);\n  var maybeHiddenOrFastRefresh = useRef(false);\n  useEffect(function () {\n    return function () {\n      maybeHiddenOrFastRefresh.current = true;\n    };\n  }, []);\n  useEffect(function () {\n    if (maybeHiddenOrFastRefresh.current === true) {\n      maybeHiddenOrFastRefresh.current = false;\n      if (entryPointReference.kind !== 'NullEntryPointReference' && entryPointParams != null) {\n        entryPointLoaderCallback(entryPointParams);\n      }\n      return;\n    }\n    var undisposedEntryPointReferences = undisposedEntryPointReferencesRef.current;\n    if (isMountedRef.current) {\n      var _iterator = (0, _createForOfIteratorHelper2[\"default\"])(undisposedEntryPointReferences),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var undisposedEntryPointReference = _step.value;\n          if (undisposedEntryPointReference === entryPointReference) {\n            break;\n          }\n          undisposedEntryPointReferences[\"delete\"](undisposedEntryPointReference);\n          if (undisposedEntryPointReference.kind !== 'NullEntryPointReference') {\n            undisposedEntryPointReference.dispose();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, [entryPointReference, entryPointParams, entryPointLoaderCallback, isMountedRef]);\n  useEffect(function () {\n    return function disposeAllRemainingEntryPointReferences() {\n      var _iterator2 = (0, _createForOfIteratorHelper2[\"default\"])(undisposedEntryPointReferencesRef.current),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var unhandledStateChange = _step2.value;\n          if (unhandledStateChange.kind !== 'NullEntryPointReference') {\n            unhandledStateChange.dispose();\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    };\n  }, []);\n  return [entryPointReference.kind === 'NullEntryPointReference' ? null : entryPointReference, entryPointLoaderCallback, disposeEntryPoint];\n}\nmodule.exports = useLoadEntryPoint;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}